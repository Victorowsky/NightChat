{"version":3,"sources":["img/google.png","comp/LoginPage.js","comp/Chat/Message.js","comp/Chat/Chat.js","comp/Event/Event.js","comp/Main.js","comp/Admin/EventPlace.js","comp/Admin/Admin.js","App.js","index.js"],"names":["LoginPage","useContext","DataContext","userInfo","socket","useState","QRCodeUrl","setQRCodeUrl","useEffect","emit","_id","on","url","removeAllListeners","className","isVerified","src","alt","style","textAlign","CircularProgress","Button","onClick","window","location","href","color","border","justifySelf","GooglePng","Message","name","date","message","userType","userImage","wroteBy","messageRef","useRef","current","scrollIntoView","behavior","dateRef","isAdmin","classList","toggle","ref","alignSelf","marginRight","borderRadius","title","fontWeight","moment","format","Chat","image","text","setText","docs","setMessages","prev","handleSendMessage","e","preventDefault","String","messages","createMessages","map","index","type","value","onChange","target","display","Event","currentEvent","history","useHistory","push","marginLeft","Main","setCurrentEvent","EventPlace","EventPlaceRef","setIsOpenEventPlace","place","setPlace","handleCloseEventPlace","useCallback","contains","document","addEventListener","removeEventListener","handleSetEventPlace","variant","Admin","isOpenEventPlace","buttonStyle","width","React","createContext","io","App","setUserInfo","fetch","credentials","then","res","json","profile","Provider","path","exact","to","ReactDOM","render","StrictMode","getElementById"],"mappings":"6KAAe,G,YAAA,IAA0B,oC,yBCsE1BA,EAjEG,WAAO,IAAD,EACMC,qBAAWC,GAAhCC,EADe,EACfA,SAAUC,EADK,EACLA,OADK,EAEWC,mBAAS,MAFpB,mBAEhBC,EAFgB,KAELC,EAFK,KAIvBC,qBAAU,WAST,OARIL,IACHC,EAAOK,KAAK,mBAAoBN,EAASO,KAEzCN,EAAOO,GAAG,0BAA0B,SAACC,GACpCL,EAAaK,OAIR,WACNR,EAAOS,mBAAmB,6BAEzB,CAACT,EAAQD,IAYZ,OACC,qBAAKW,UAAU,iBAAf,SACGX,EAWD,oCACGA,EAASY,YACV,qCACET,EACA,qCACC,qBAAKQ,UAAU,SAASE,IAAKV,EAAWW,IAAI,WAC5C,oBAAIC,MAAO,CAAEC,UAAW,UAAxB,8DAKD,cAACC,EAAA,EAAD,IAED,cAACC,EAAA,EAAD,CAAQC,QA9BO,WACpBC,OAAOC,SAASC,KAAO,WA6BaP,MApCjB,CACnBQ,MAAO,QACPC,OAAQ,kBACRC,YAAa,YAiCR,yBAvBH,qCACC,qDACA,mBAAGH,KAAI,eAAP,SACC,sBAAKX,UAAU,cAAf,UACC,qBAAKE,IAAKa,EAAWZ,IAAI,WAD1B,+B,QCiBSa,G,MApDC,SAAC,GAA2D,IAAzDC,EAAwD,EAAxDA,KAAMC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QACrDC,EAAaC,iBAAO,MAElBnC,EAAaF,qBAAWC,GAAxBC,SAERK,qBAAU,WACR6B,EAAWE,QAAQC,eAAe,CAChCC,SAAU,aAEX,IACH,IAAMC,EAAUJ,iBAAO,MAKjBK,EAAuB,UAAbT,EAEhB,OACE,mCACE,sBACEZ,QARiB,WACrBoB,EAAQH,QAAQK,UAAUC,OAAO,cAQ7B/B,UAAU,UACVgC,IAAKT,EACLnB,MACEf,EAASO,MAAQ0B,EACb,CACEW,UAAW,WACXC,YAAa,MACbC,aAAc,iBAEhB,GAENC,MAAOlB,EAbT,UAeE,qBAAKhB,IAAKmB,EAAWlB,IAAI,SACzB,sBAAKH,UAAU,iBAAf,UACE,sBACEI,MAAOyB,EAAU,CAAEjB,MAAO,UAAWyB,WAAY,KAAQ,GACzDrC,UAAU,WAFZ,SAIGiB,IALL,IAOG,uBAAMjB,UAAU,OAAhB,cAAyBmB,QAE5B,sBAAMa,IAAKJ,EAAS5B,UAAU,OAA9B,SACGkB,W,0CC1CXoB,MAASC,OAAO,YAEhB,IAmFeC,EAnFF,WAAO,IAAD,EACYrD,qBAAWC,GAAhCE,EADS,EACTA,OAAQD,EADC,EACDA,SACR4B,EAA+B5B,EAA/B4B,KAAMG,EAAyB/B,EAAzB+B,SAAUqB,EAAepD,EAAfoD,MAAO7C,EAAQP,EAARO,IAFd,EAGOL,mBAAS,IAHhB,mBAGVmD,EAHU,KAGJC,EAHI,KAKjBjD,qBAAU,WAcR,OAbAJ,EAAOK,KAAK,eACZL,EAAOO,GAAG,qBAAqB,YAAe,IAAZ+C,EAAW,EAAXA,KAChCC,EAAYD,MAEdtD,EAAOO,GAAG,oBAAoB,YAAe,IAAZ+C,EAAW,EAAXA,KAC/BC,GAAY,SAACC,GAAD,4BAAcA,GAAd,CAAoBF,UAGlCtD,EAAOO,GAAG,sBAAqB,kBAAI,YAAW,IAAT+C,EAAQ,EAARA,KACnCC,GAAY,SAAAC,GAAI,4BAAOA,GAAP,CAAY,CAACJ,KAAKE,YAI7B,WACLtD,EAAOS,mBAAmB,qBAC1BT,EAAOS,mBAAmB,uBAE3B,CAACT,IAEJ,IAAMyD,EAAoB,SAACC,GAEzB,GADAA,EAAEC,iBACCP,EAAK,CACF,IAAMxB,EAAOgC,OAAOZ,MAASC,OAAO,aAE1CjD,EAAOK,KAAK,cAAe,CAAE+C,OAAMzB,OAAMG,WAAUF,OAAMuB,QAAO7C,QAChE+C,EAAQ,MA/BO,EAoCepD,mBAAS,IApCxB,mBAoCV4D,EApCU,KAoCAN,EApCA,KAsCXO,EAAiBD,EAASE,KAC9B,WAAwDC,GAAW,IAAhErC,EAA+D,EAA/DA,KAAME,EAAyD,EAAzDA,QAASD,EAAgD,EAAhDA,KAAME,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,QAC3C,OACE,cAAC,EAAD,CAEEA,QAASA,EACTL,KAAMA,EACNE,QAASA,EACTD,KAAMA,EACNE,SAAUA,EACVC,UAAWA,GANNiC,MAYb,OACE,mCACF,sBAAKtD,UAAU,OAAf,UACI,qBAAKA,UAAU,gBAAf,SAAgCoD,IAChC,sBAAKpD,UAAU,iBAAf,UACE,iCACE,uBACEuD,KAAK,OACLC,MAAOd,EACPe,SAAU,SAACT,GACTL,EAAQK,EAAEU,OAAOF,UAGrB,wBACED,KAAK,SACL/C,QAASuC,EACT3C,MAAO,CAAEuD,QAAS,aAItB,qBAAK3D,UAAU,oBAAoBQ,QAASuC,EAA5C,SACE,cAAC,IAAD,e,wBCtDKa,G,MAzBD,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACRxE,EAAaF,qBAAWC,GAAxBC,SACFyE,EAAUC,cAYhB,OACC,sBAAK/D,UAAU,QAAf,UACC,cAAC,IAAD,CAAeQ,QANI,WACpBC,OAAOC,SAASC,KAAO,WAKgBX,UAAU,iBAChD,qBAAKA,UAAU,YAAYQ,QAbC,WACH,UAAtBnB,EAAS+B,UACZ0C,EAAQE,KAAK,WAWb,SACC,oCAAKH,QAAL,IAAKA,OAAL,EAAKA,EAAc5C,SAEpB,qBAAKb,MAAO,CAAE6D,WAAY,GAAKjE,UAAU,sBCU7BkE,G,MA5BF,WAAO,IAAD,EACuB3E,mBAAS,MADhC,mBACVsE,EADU,KACIM,EADJ,KAET7E,EAAWH,qBAAWC,GAAtBE,OAkBR,OAhBAI,qBAAU,WASR,OARAJ,EAAOK,KAAK,YACZL,EAAOO,GAAG,kBAAkB,YAAe,IAAZ+C,EAAW,EAAXA,KAC7BuB,EAAgBvB,MAElBtD,EAAOO,GAAG,kBAAkB,YAAe,IAAZ+C,EAAW,EAAXA,KAC7BuB,EAAgBvB,MAGX,WACLtD,EAAOS,mBAAmB,uBAE3B,CAACT,IAKF,sBAAKU,UAAU,gBAAf,UACE,cAAC,EAAD,CAAO6D,aAAcA,IACrB,cAAC,EAAD,S,iBC2BSO,G,OApDI,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,cAAeC,EAAyB,EAAzBA,oBAEzBhF,EAAUH,qBAAWC,GAArBE,OAFkD,EAI/BC,mBAAS,IAJsB,mBAIlDgF,EAJkD,KAI3CC,EAJ2C,KAOnDC,EAAwBC,uBAAY,SAAC1B,GAAM,IAAD,GAEzC,UAACqB,EAAc5C,eAAf,aAAC,EAAuBkD,SAAS3B,EAAEU,UAClCY,GAAoB,KAE1B,CAACD,EAAcC,IAEjB5E,qBAAU,WAIN,OAFAkF,SAASC,iBAAiB,QAASJ,GAE5B,WACPG,SAASE,oBAAoB,QAASL,MAExC,CAACA,IAEH,IAAMM,EAAsB,SAAC/B,GACzBA,EAAEC,iBACCsB,IACCjF,EAAOK,KAAK,gBAAiB,CAAC4E,UAC9BC,EAAS,IACTF,GAAoB,KAM5B,OAEI,sBAAKtC,IAAKqC,EAAerE,UAAU,aAAnC,UACI,6CACA,iCACA,uBAAOuD,KAAK,OAAOC,MAAOe,EAAOd,SAAU,SAACT,GAAD,OAAKwB,EAASxB,EAAEU,OAAOF,UAClE,wBAAQD,KAAK,SAASnD,MAAO,CAACuD,QAAQ,QAASnD,QAASuE,OAEzD,cAACxE,EAAA,EAAD,CACCK,MAAM,UACNoE,QAAQ,WACRxE,QAASuE,EAHV,yBCOIE,EAhDD,WAEV,IAAMnB,EAAUC,cAFA,EAGgCxE,oBAAS,GAHzC,mBAGT2F,EAHS,KAGSZ,EAHT,KAKVa,EAAc,CAChBC,MAAO,SAILf,EAAgB7C,iBAAO,MAO7B9B,qBAAU,cAER,IAOF,OACI,sBAAKM,UAAU,QAAf,UAEI,cAACO,EAAA,EAAD,CACAH,MAAO+E,EACPvE,MAAM,UACNJ,QAnBwB,WAC5B8D,GAAoB,SAAAxB,GAAI,OAAIA,MAmBxBkC,QAAQ,WAJR,6BAMA,cAACzE,EAAA,EAAD,CACAC,QAfsB,WAC1BsD,EAAQE,KAAK,YAeT5D,MAAO+E,EACPvE,MAAM,UACNoE,QAAQ,WAJR,0BAOHE,GAAoB,cAAC,EAAD,CAAYZ,oBAAqBA,EAAqBD,cAAeA,QCxCrFjF,EAAciG,IAAMC,cAAc,MAEzChG,EAASiG,IAAG,KAyCHC,EAvCH,WAAM,MAUejG,oBAAS,GAVxB,mBAUVF,EAVU,KAUAoG,EAVA,KAsBjB,OAVA/F,qBAAU,WACTgG,MAAM,cAAe,CAAEC,YAAa,YAClCC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACFA,EAAIE,SACPN,EAAYI,EAAIE,cAGjB,IAGF,qBAAK/F,UAAU,MAAf,SACC,cAACZ,EAAY4G,SAAb,CAAsBxC,MAAO,CAAEnE,WAAUC,UAAzC,SACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAO2G,KAAK,IAAIC,OAAK,EAArB,UACU,OAAR7G,QAAQ,IAARA,OAAA,EAAAA,EAAUY,YAAa,cAAC,EAAD,IAAW,cAAC,EAAD,MAEpC,eAAC,IAAD,CAAOgG,KAAK,SAAZ,UACwB,UAAtB5G,EAAS+B,UAAwB,cAAC,IAAD,CAAU+E,GAAG,MAC/C,cAAC,EAAD,e,QClCNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJ1B,SAAS2B,eAAe,U","file":"static/js/main.d52e2bab.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/google.a044c5d4.png\";","import \"./LoginPage.css\";\r\nimport GooglePng from \"../img/google.png\";\r\nimport { DataContext } from \"../App\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Button, CircularProgress } from \"@material-ui/core\";\r\nconst LoginPage = () => {\r\n\tconst { userInfo, socket } = useContext(DataContext);\r\n\tconst [QRCodeUrl, setQRCodeUrl] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tsocket.emit(\"createUserQRCode\", userInfo._id);\r\n\r\n\t\t\tsocket.on(\"createUserQRCodeAnswer\", (url) => {\r\n\t\t\t\tsetQRCodeUrl(url);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.removeAllListeners(\"createUserQRCodeAnswer\");\r\n\t\t};\r\n\t}, [socket, userInfo]);\r\n\r\n\tconst buttonStyle = {\r\n\t\tcolor: \"white\",\r\n\t\tborder: \"2px solid white\",\r\n\t\tjustifySelf: \"flex-end\",\r\n\t};\r\n\r\n\tconst handleLogout = () => {\r\n\t\twindow.location.href = \"/logout\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"loginContainer\">\r\n\t\t\t{!userInfo ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h1>Warsaw Night Racing</h1>\r\n\t\t\t\t\t<a href={`/auth/google`}>\r\n\t\t\t\t\t\t<div className=\"loginGoogle\">\r\n\t\t\t\t\t\t\t<img src={GooglePng} alt=\"Google\" />\r\n\t\t\t\t\t\t\tLogin with Google\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{!userInfo.isVerified && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{QRCodeUrl ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<img className=\"QRCode\" src={QRCodeUrl} alt=\"QRCode\" />\r\n\t\t\t\t\t\t\t\t\t<h3 style={{ textAlign: \"center\" }}>\r\n\t\t\t\t\t\t\t\t\t\tPotwiedz swoje konto na nastÄ™pnym zlocie\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Button onClick={handleLogout} style={buttonStyle}>\r\n\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LoginPage;\r\n","import { useRef, useEffect, useContext } from \"react\";\r\nimport \"./Message.css\";\r\nimport { DataContext } from \"../../App\";\r\n\r\nconst Message = ({ name, date, message, userType, userImage, wroteBy }) => {\r\n  const messageRef = useRef(null);\r\n\r\n  const { userInfo } = useContext(DataContext);\r\n\r\n  useEffect(() => {\r\n    messageRef.current.scrollIntoView({\r\n      behavior: \"smooth\",\r\n    });\r\n  }, []);\r\n  const dateRef = useRef(null);\r\n\r\n  const handleShowDate = () => {\r\n    dateRef.current.classList.toggle(\"dateShown\");\r\n  };\r\n  const isAdmin = userType === \"admin\";\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        onClick={handleShowDate}\r\n        className=\"message\"\r\n        ref={messageRef}\r\n        style={\r\n          userInfo._id === wroteBy\r\n            ? {\r\n                alignSelf: \"flex-end\",\r\n                marginRight: \"2px\",\r\n                borderRadius: \"5px 5px 0 5px\",\r\n              }\r\n            : {}\r\n        }\r\n        title={date}\r\n      >\r\n        <img src={userImage} alt=\"user\" />\r\n        <div className=\"messageContent\">\r\n          <span\r\n            style={isAdmin ? { color: \"#f94144\", fontWeight: 500 } : {}}\r\n            className=\"userName\"\r\n          >\r\n            {name}\r\n          </span>\r\n          :<span className=\"text\"> {message}</span>\r\n        </div>\r\n        <span ref={dateRef} className=\"date\">\r\n          {date}\r\n        </span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import Message from \"./Message\";\r\nimport \"./Chat.css\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { DataContext } from \"../../App\";\r\nimport moment from \"moment\";\r\n\r\nmoment().format(\"HH:mm:ss\");\r\n\r\nconst Chat = () => {\r\n  const { socket, userInfo } = useContext(DataContext);\r\n  const { name, userType, image, _id } = userInfo;\r\n  const [text, setText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"getMessages\");\r\n    socket.on(\"getMessagesAnswer\", ({ docs }) => {\r\n      setMessages(docs);\r\n    });\r\n    socket.on(\"newMessageAnswer\", ({ docs }) => {\r\n      setMessages((prev) => [...prev, docs]);\r\n    });\r\n\r\n    socket.on('eventMessageAnswer',()=>({docs})=>{\r\n      setMessages(prev=> [...prev,{text:docs}])\r\n    })\r\n\r\n    \r\n    return () => {\r\n      socket.removeAllListeners(\"getMessagesAnswer\");\r\n      socket.removeAllListeners(\"newMessageAnswer\");\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if(text){\r\n          const date = String(moment().format(\"HH:mm:ss\"));\r\n      // console.log(date);\r\n    socket.emit(\"sendMessage\", { text, name, userType, date, image, _id });\r\n    setText(\"\");\r\n    }\r\n\r\n  };\r\n\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  const createMessages = messages.map(\r\n    ({ name, message, date, userType, userImage, wroteBy }, index) => {\r\n      return (\r\n        <Message\r\n          key={index}\r\n          wroteBy={wroteBy}\r\n          name={name}\r\n          message={message}\r\n          date={date}\r\n          userType={userType}\r\n          userImage={userImage}\r\n        />\r\n      );\r\n    }\r\n  );\r\n\r\n  return (\r\n    <>\r\n  <div className=\"chat\">\r\n      <div className=\"chatContainer\">{createMessages}</div>\r\n      <div className=\"inputContainer\">\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            value={text}\r\n            onChange={(e) => {\r\n              setText(e.target.value);\r\n            }}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            onClick={handleSendMessage}\r\n            style={{ display: \"none\" }}\r\n          ></button>\r\n        </form>\r\n\r\n        <div className=\"sendMessageButton\" onClick={handleSendMessage}>\r\n          <SendIcon />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DataContext } from \"../../App\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport \"./Event.css\";\r\nconst Event = ({ currentEvent }) => {\r\n\tconst { userInfo } = useContext(DataContext);\r\n\tconst history = useHistory();\r\n\r\n\tconst handleRedirectToAdmin = () => {\r\n\t\tif (userInfo.userType === \"admin\") {\r\n\t\t\thistory.push(\"/admin\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLogout = () => {\r\n\t\twindow.location.href = \"/logout\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"event\">\r\n\t\t\t<ExitToAppIcon onClick={handleLogout} className=\"logoutButton\" />\r\n\t\t\t<div className=\"eventName\" onClick={handleRedirectToAdmin}>\r\n\t\t\t\t<h2>{currentEvent?.name}</h2>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginLeft: 0 }} className=\"logoutButton\"></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Event;\r\n","import Chat from \"./Chat/Chat\";\r\nimport Event from \"./Event/Event\";\r\nimport { DataContext } from \"../App\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport \"./Main.css\";\r\n\r\n\r\nconst Main = () => {\r\n  const [currentEvent, setCurrentEvent] = useState(null);\r\n  const { socket } = useContext(DataContext);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"getEvent\");\r\n    socket.on(\"getEventAnswer\", ({ docs }) => {\r\n      setCurrentEvent(docs);\r\n    });\r\n    socket.on(\"newEventAnswer\", ({ docs }) => {\r\n      setCurrentEvent(docs);\r\n    });\r\n\r\n    return () => {\r\n      socket.removeAllListeners(\"newMessageAnswer\");\r\n    };\r\n  }, [socket]);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"mainContainer\">\r\n      <Event currentEvent={currentEvent}  />\r\n      <Chat />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import { useContext, useEffect,useState,useCallback } from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport {DataContext} from \"../../App\"\r\n\r\n\r\nconst EventPlace = ({EventPlaceRef, setIsOpenEventPlace}) => {\r\n\r\n    const {socket} = useContext(DataContext)\r\n\r\n    const [place, setPlace] = useState('');\r\n\r\n\r\n    const handleCloseEventPlace = useCallback((e) =>{\r\n        \r\n        if(!EventPlaceRef.current?.contains(e.target)){\r\n            setIsOpenEventPlace(false)\r\n        }\r\n    },[EventPlaceRef,setIsOpenEventPlace])\r\n\r\n    useEffect(()=>{\r\n     \r\n        document.addEventListener('click', handleCloseEventPlace)\r\n\r\n        return ()=>{\r\n        document.removeEventListener('click', handleCloseEventPlace)\r\n        }\r\n    },[handleCloseEventPlace])\r\n\r\n    const handleSetEventPlace = (e) =>{\r\n        e.preventDefault()\r\n        if(place){\r\n            socket.emit('setEventPlace', {place})\r\n            setPlace('')\r\n            setIsOpenEventPlace(false)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return ( \r\n\r\n        <div ref={EventPlaceRef} className=\"eventPlace\">\r\n            <h1>Enter place</h1>\r\n            <form>\r\n            <input type=\"text\" value={place} onChange={(e)=>setPlace(e.target.value)}/>\r\n            <button type=\"submit\" style={{display:'none'}} onClick={handleSetEventPlace}></button>\r\n            </form>\r\n           <Button \r\n            color=\"primary\"\r\n            variant=\"outlined\"\r\n            onClick={handleSetEventPlace}\r\n            >Submit\r\n            </Button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default EventPlace;","import \"./Admin.css\"\r\nimport {useState,useRef, useEffect} from 'react'\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport EventPlace from \"./EventPlace\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst Admin = () => {\r\n\r\n    const history = useHistory()\r\n    const [isOpenEventPlace, setIsOpenEventPlace] = useState(false);\r\n\r\n    const buttonStyle = {\r\n        width: '200px'\r\n\r\n    }\r\n\r\n    const EventPlaceRef = useRef(null)\r\n\r\n\r\n    const handleOpenSetEventPlace = ()=>{\r\n        setIsOpenEventPlace(prev=> !prev)\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n    },[])\r\n\r\n    const handleGoToVerifyUsers = () =>{\r\n        history.push('/verify')\r\n    }\r\n\r\n\r\n    return ( \r\n        <div className=\"admin\">\r\n            \r\n            <Button \r\n            style={buttonStyle} \r\n            color=\"primary\"\r\n            onClick={handleOpenSetEventPlace}\r\n            variant=\"outlined\">Set event place\r\n            </Button>\r\n            <Button \r\n            onClick={handleGoToVerifyUsers}\r\n            style={buttonStyle} \r\n            color=\"primary\" \r\n            variant=\"outlined\">Verify Users\r\n            </Button>\r\n\r\n        {isOpenEventPlace && <EventPlace setIsOpenEventPlace={setIsOpenEventPlace} EventPlaceRef={EventPlaceRef} />}\r\n\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Admin;","import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport LoginPage from \"./comp/LoginPage\";\r\nimport Main from \"./comp/Main\";\r\nimport io from \"socket.io-client\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Admin from \"./comp/Admin/Admin\";\r\n\r\nexport const DataContext = React.createContext(null);\r\n\r\nconst socket = io(\"/\");\r\n\r\nconst App = () => {\r\n\t// const [userInfo, setUserInfo] = useState({\r\n\t// \t_id: \"60364824ced6885b5c790991\",\r\n\t// \tname: \"Victorowsky\",\r\n\t// \timage:\r\n\t// \t\t\"https://lh3.googleusercontent.com/a-/AOh14GiwkoB8yrjJrfotKxCu4P7W8IlUz9OicoSbU6HO=s96-c\",\r\n\t// \tuserType: \"admin\",\r\n\t// \tisVerified: true,\r\n\t// });\r\n\r\n\tconst [userInfo, setUserInfo] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(\"/getProfile\", { credentials: \"include\" })\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.profile) {\r\n\t\t\t\t\tsetUserInfo(res.profile);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"app\">\r\n\t\t\t<DataContext.Provider value={{ userInfo, socket }}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/\" exact>\r\n\t\t\t\t\t\t{userInfo?.isVerified ? <Main /> : <LoginPage />}\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/admin\">\r\n\t\t\t\t\t\t{userInfo.userType !== \"admin\" && <Redirect to=\"/\" />}\r\n\t\t\t\t\t\t<Admin />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</DataContext.Provider>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {\n  HashRouter as Router,\n} from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App /> \n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}